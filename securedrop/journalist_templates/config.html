{% extends "base.html" %}
{% block body %}
{% from "_formhelpers.html" import render_textarea_field %}

<p>
  <a href="/admin">Â« {{ gettext('Back to admin interface') }}</a>
</p>

<h1>{{ gettext('Instance Configuration') }}</h1>

<h2>{{ gettext('Custom Notice') }}</h2>

<p>{{ gettext('You can add custom text to the source interface:') }}</p>

<form action="{{ url_for('admin.process_source_text') }}" method="post">
  <input name="csrf_token" type="hidden" value="{{ csrf_token() }}">
  <p>
    {{ render_textarea_field(source_notice_form.text, 30, 3) }}
    <br>
  </p>
  <button type="submit" class="sd-button" id="submit-logo-update">
    <i class="fas fa-pencil-alt"></i>{{ gettext('UPDATE NOTICE') }}
  </button>
  {% include 'logo_upload_flashed.html' %}
</form>

<h2>{{ gettext('Alerts') }}</h2>

<p>{{ gettext('Send an encrypted email to verify if OSSEC alerts work correctly:') }}</p>

<p>
  <a class="btn sd-button" href="{{ url_for('admin.ossec_test') }}" id="test-ossec-alert">
    <i class="fa fa-bell"></i>{{ gettext('SEND TEST OSSEC ALERT') }}
  </a>
</p>

<hr class="no-line">

<h2>{{ gettext('Logo Image') }}</h2>

<p>{{ gettext('Here you can update the image displayed on the SecureDrop web interfaces:') }}</p>

<p>
  <img src="{{ url_for('main.select_logo') }}" class="logo small" alt="SecureDrop" width="250px">
</p>

<form method="post" enctype="multipart/form-data">
  <input name="csrf_token" type="hidden" value="{{ csrf_token() }}">
  <p>
    {{ logo_form.logo(id="logo-upload") }}
    <br>
  </p>
  <h5>
    {{ gettext('Recommended size: 500px * 450px') }}
  </h5>
  <button type="submit" class="sd-button" id="submit-logo-update">
    <i class="fas fa-pencil-alt"></i>{{ gettext('UPDATE LOGO') }}
  </button>
  {% include 'logo_upload_flashed.html' %}
</form>

{% endblock %}
